<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>SuperAdmin - Dashboard</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <h1>Dashboard SuperAdmin</h1>
  <button onclick="logout()">Cerrar sesión</button>

  <div>
    <h2>Estadísticas Generales</h2>
    <ul>
      <li id="usuariosCount">Usuarios: 0</li>
      <li id="comunicadosCount">Comunicados: 0</li>
      <li id="documentosCount">Documentos: 0</li>
      <li id="anexosCount">Anexos: 0</li>
    </ul>
  </div>

  <script src="js/app.js"></script>
  <script>
    function logout() {
      localStorage.removeItem('usuario');
      window.location.href = "index.html";
    }

    document.addEventListener('DOMContentLoaded', async () => {
      try {
        const stats = await getStats();
        document.getElementById('usuariosCount').textContent = `Usuarios: ${stats.usuarios}`;
        document.getElementById('comunicadosCount').textContent = `Comunicados: ${stats.comunicados}`;
        document.getElementById('documentosCount').textContent = `Documentos: ${stats.documentos}`;
        document.getElementById('anexosCount').textContent = `Anexos: ${stats.anexos}`;
      } catch (error) {
        alert("Error al cargar estadísticas");
        console.error(error);
      }
    });
  </script>
</body>
</html>
